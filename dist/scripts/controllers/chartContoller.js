"use strict";angular.module("sbAdminApp").controller("ChartCtrl",["$scope","$timeout","$interval","$http","queryDockerService",function($scope,$timeout,$interval,$http,queryDockerService){function queryDocker(){$("#heartbeat").toggle(),$http.get("http://localhost:4000/logs").success(function(response){$scope.logs.splice(0,$scope.logs.length);for(var index=0;index<response.length;index++)(response[index].image==queryDockerService.ZTUAContainer||response[index].image==queryDockerService.ZTUBContainer)&&$scope.logs.push(response[index]);$scope.line.data[0].push($scope.logs.length)}),$scope.line.data[0].length>40&&$scope.line.data[0].shift()}$scope.line={labels:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],series:["Hits"],data:queryDockerService.hitsArray,options:{animation:!1},onClick:function(points,evt){console.log(points,evt)}},$scope.logs=[],queryDockerService.initiated||($scope.intervalTimer=$interval(queryDocker,1e3),queryDockerService.initiated=!0);Date.now()}]);