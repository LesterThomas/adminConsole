"use strict";angular.module("sbAdminApp").controller("MainCtrl",["$scope","$timeout","$interval","$http","queryDockerService",function($scope,$timeout,$interval,$http,queryDockerService){$scope.myData={},$scope.containers=queryDockerService.containers,$scope.containersColour="red",$scope.chaosMonkey="Off",$scope.chaosMonkeyColour="yellow",queryDockerService.chaosMonkey&&($scope.chaosMonkey="On",$scope.chaosMonkeyColour="green"),$scope.autoRecovery="Off",$scope.autoRecoveryColour="yellow",queryDockerService.autoRecovery&&($scope.autoRecovery="On",$scope.autoRecoveryColour="green"),$http.get("http://172.17.42.1:4243/containers/json").success(function(response){$scope.containers.splice(0,$scope.containers.length);for(var index=0;index<response.length;index++)(response[index].Image==queryDockerService.ZTUAContainer||response[index].Image==queryDockerService.ZTUBContainer)&&$scope.containers.push(response[index]);$scope.instances=$scope.containers.length}),$scope.$watch("containers.length",function(){$scope.containersColour="red",$scope.containers.length>0&&($scope.containersColour="yellow"),$scope.containers.length>2&&($scope.containersColour="green")})}]);